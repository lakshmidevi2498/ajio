"use strict";(self.webpackChunkajio=self.webpackChunkajio||[]).push([[252],{5252:(e,a,o)=>{o.r(a),o.d(a,{default:()=>u});var i=o(2483),r=o(814),t=o(3117),l=o(947),s=o(1126);const n=new(o(4648).A);var d=o(3422);const c=e=>async a=>{a({type:s.fz});try{const r=await(async e=>new Promise((async(a,i)=>{try{a(await n.post("".concat("admin"),e))}catch(o){console.error("Error in adminLoginApi:",o),i(o)}})))(e);a((i=r,{type:s.mb,payload:i}))}catch(r){a((o=r,{type:s.b8,payload:o})),d.oR.error("admin & Password authentication failed")}var o,i};var m=o(1965),p=o(5178),x=o(6723);const h={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#EAE2D1",border:"3px solid ".concat(p.A.palette.one.text2),boxShadow:24,p:4,borderRadius:"20px",outline:"none"},u=()=>{const[e,a]=i.useState(!1),o=(0,m.wA)(),s=(0,m.d4)((e=>e.adminloginreducer.data));console.log("adminData",s);(0,i.useEffect)((()=>{var e;const a=null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.admin,o=null===a||void 0===a?void 0:a.role;console.log("role",o),"admin"===o&&(window.location.href="".concat("https://ajio-2.onrender.com","/adminpanel"))}),[s]);const n=l.Ik().shape({email:l.Yj().email("Invalid email format").required("Email is required"),password:l.Yj().required("password is required")});(0,i.useEffect)((()=>{u()}));const d=async e=>{console.log("user",e),await o(c(e))},u=()=>a(!0),w=()=>a(!1);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(r.A.Grid,{container:!0,justifyContent:"center",children:(0,x.jsx)(r.A.Grid,{item:!0,children:(0,x.jsx)(r.A.Modal,{open:e,onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,x.jsx)(r.A.Box,{sx:h,children:(0,x.jsx)(t.l1,{initialValues:{email:"",password:""},validationSchema:n,onSubmit:async(e,a)=>{console.log("Form Values:",e),a.resetForm(),w(),d(e)},children:e=>{let{errors:a,touched:o,isSubmitting:i}=e;return(0,x.jsx)(t.lV,{children:(0,x.jsxs)(r.A.Grid,{container:!0,spacing:2,children:[(0,x.jsx)(r.A.Grid,{item:!0,xs:12,textAlign:"center",mb:4,children:(0,x.jsx)(r.A.Typography,{variant:"h2",sx:{fontWeight:"bold",fontSize:{xs:"15px",md:"20px",xl:"25px"},color:p.A.palette.one.text2},children:"Welcome Admin !!"})}),(0,x.jsx)(r.A.Grid,{item:!0,xs:12,children:(0,x.jsx)(t.D0,{name:"email",as:r.A.TextField,label:"Email",placeholder:"Enter Email",size:"small",fullWidth:!0,autoComplete:"off",error:o.email&&Boolean(a.email),helperText:o.email&&a.email})}),(0,x.jsx)(r.A.Grid,{item:!0,xs:12,children:(0,x.jsx)(t.D0,{name:"password",as:r.A.TextField,label:"Password",placeholder:"Password",size:"small",type:"password",fullWidth:!0,autoComplete:"off",error:o.password&&Boolean(a.password),helperText:o.password&&a.password})}),(0,x.jsx)(r.A.Grid,{item:!0,xs:12,mt:2,children:(0,x.jsx)(r.A.Button,{variant:"contained",disabled:i,type:"submit",sx:{textTransform:"initial"},children:"Signin"})})]})})}})})})})})})}}}]);
//# sourceMappingURL=252.326d2425.chunk.js.map