"use strict";(self.webpackChunkajio=self.webpackChunkajio||[]).push([[821],{9821:(e,a,n)=>{n.r(a),n.d(a,{default:()=>y});var r=n(9379),i=n(2483),t=n(814),o=n(1965),l=n(1126),s=n(4648);const d=new s.A;var m=n(3422);const c=(e,a)=>async a=>{a({type:l.gR});try{const i=await(async e=>new Promise((async(a,r)=>{try{a(await d.get("".concat("userdetails","/?userId=").concat(e),{}))}catch(n){console.error("Error in loadProfileApi:",n),r(n)}})))(e);a((r=i,{type:l.ni,payload:r}))}catch(i){console.log("error",i),a((n=i,{type:l.Yw,payload:n})),m.oR.error("getting products data failed")}var n,r};var u=n(3117),x=n(947);const h=new s.A,p=(e,a)=>async n=>{n({type:l.zY});try{const t=await(async(e,a)=>new Promise((async(n,i)=>{try{n(await h.put("".concat("userdetails","/?userId=").concat(e),{values:a}))}catch(r){console.error("Error in loadProfileApi:",r),i(r)}})))(e,a);n((i=t,{type:l.Av,payload:i}))}catch(t){console.log("error",t),n((r=t,{type:l.X3,payload:r})),m.oR.error("getting products data failed")}var r,i};var g=n(5606),b=n(6723);const f=e=>{let{formik:a}=e;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("form",{onSubmit:a.handleSubmit,children:(0,b.jsxs)(t.A.Grid,{item:!0,px:{xs:1,lg:20},py:{xs:2,sm:5},children:[(0,b.jsxs)(t.A.Grid,{item:!0,xs:12,mb:2,children:[(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:"12px"},children:"First name *"}),(0,b.jsx)(t.A.TextField,{id:"fname",type:"text",variant:"standard",fullWidth:!0,name:"fname",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.fname}),a.touched.fname&&a.errors.fname&&(0,b.jsx)("div",{style:{color:"red",fontSize:"10px"},children:a.errors.fname})]}),(0,b.jsxs)(t.A.Grid,{item:!0,xs:12,mb:2,children:[(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:"12px"},children:"Last name *"}),(0,b.jsx)(t.A.TextField,{id:"lname",type:"text",variant:"standard",fullWidth:!0,name:"lname",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.lname}),a.touched.lname&&a.errors.lname&&(0,b.jsx)("div",{style:{color:"red",fontSize:"10px"},children:a.errors.lname})]}),(0,b.jsxs)(t.A.Grid,{item:!0,xs:12,mb:2,children:[(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:"12px"},children:"Screen Name *"}),(0,b.jsx)(t.A.TextField,{id:"sname",type:"text",variant:"standard",fullWidth:!0,name:"sname",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.sname}),a.touched.sname&&a.errors.sname&&(0,b.jsx)("div",{style:{color:"red",fontSize:"10px"},children:a.errors.sname})]}),(0,b.jsxs)(t.A.Grid,{item:!0,xs:12,mb:2,children:[(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:"12px"},children:"Email Address *"}),(0,b.jsx)(t.A.TextField,{id:"email",type:"email",variant:"standard",fullWidth:!0,name:"email",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.email}),a.touched.email&&a.errors.email&&(0,b.jsx)("div",{style:{color:"red",fontSize:"10px"},children:a.errors.email})]}),(0,b.jsxs)(t.A.Grid,{item:!0,xs:12,mb:2,children:[(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:"12px"},children:"Date of Birth *"}),(0,b.jsx)(t.A.TextField,{id:"dob",type:"date",variant:"standard",fullWidth:!0,name:"dob",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.dob,InputLabelProps:{shrink:!0,style:{fontFamily:"SourceSansPro"}},inputProps:{max:(new Date).toISOString().split("T")[0]}}),a.touched.dob&&a.errors.dob&&(0,b.jsx)("div",{style:{color:"red",fontSize:"10px"},children:a.errors.dob})]}),(0,b.jsx)(t.A.Grid,{item:!0,sx:{display:"flex"},children:(0,b.jsxs)(t.A.FormControl,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,b.jsx)(t.A.FormLabel,{id:"demo-radio-buttons-group-label",sx:{marginRight:2},value:a.values.gender,onChange:a.handleChange,children:"Gender"}),(0,b.jsxs)(t.A.RadioGroup,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"female",name:"radio-buttons-group",row:!0,children:[(0,b.jsx)(t.A.FormControlLabel,{value:"female",sx:{fontSize:"10px"},control:(0,b.jsx)(t.A.Radio,{sx:{"& .MuiSvgIcon-root":{color:"#866528",fontSize:"medium"}}}),label:"Female"}),(0,b.jsx)(t.A.FormControlLabel,{value:"male",control:(0,b.jsx)(t.A.Radio,{sx:{"& .MuiSvgIcon-root":{color:"#866528",fontSize:"medium"}}}),label:"Male"})]})]})}),(0,b.jsxs)(t.A.Grid,{item:!0,xs:12,mb:2,children:[(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:"12px"},children:"Telephone +91 *"}),(0,b.jsx)(t.A.TextField,{id:"number",type:"text",variant:"standard",fullWidth:!0,name:"number",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.number}),a.touched.number&&a.errors.number&&(0,b.jsx)("div",{style:{color:"red",fontSize:"10px"},children:a.errors.number})]}),(0,b.jsxs)(t.A.Grid,{item:!0,sx:{display:"flex",justifyContent:"center"},gap:2,xs:12,children:[(0,b.jsx)(t.A.Button,{type:"button",variant:"contained",sx:{color:"black",backgroundColor:"lightgray",paddingX:"60px",paddingY:1},onClick:()=>a.resetForm(),children:"RESTORE"}),(0,b.jsx)(t.A.Button,{type:"submit",variant:"contained",sx:{color:"white",backgroundColor:a.isSubmitting?"gray":"#866528",paddingX:"60px",paddingY:1},disabled:a.isSubmitting,children:a.isSubmitting?"Submitting...":"UPDATE"})]})]})})})},y=()=>{const e=(0,o.wA)(),a=(0,o.d4)((e=>e.loadprofile.data));console.log("userData",a);const n=(0,o.d4)((e=>e.updateprofile.data||{}));console.log("updatedUser",n);const l=(0,g.F6)(),s=(0,g.gf)();(0,i.useEffect)((()=>{l&&e(c(l))}),[l,s,e]);const[d,m]=(0,i.useState)({fname:"",lname:"",sname:"",email:"",dob:"",gender:"",number:""});(0,i.useEffect)((()=>{var e;const n=null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.user;if(n){let e="",a="";n.fname&&n.lname?(e=n.fname,a=n.lname):n.name&&([e,a]=n.name.split(" ")),m((i=>(0,r.A)((0,r.A)({},i),{},{fname:e||"",lname:a||"",email:n.email||"",dob:n.dob||"",number:n.number||n.phoneNumber||"",sname:n.sname||"",gender:n.gender||""})))}}),[a]);const h=(0,u.Wx)({enableReinitialize:!0,initialValues:{fname:d.fname||"",lname:d.lname||"",sname:d.sname||"",email:d.email||"",dob:d.dob||"",gender:d.gender||"",number:d.number||d.phoneNumber||""},validationSchema:x.Ik({fname:x.Yj().required("First name is required"),lname:x.Yj().required("Last name is required"),email:x.Yj().email("Invalid email address").required("Email is required"),dob:x.p6().required("Date of birth is required"),number:x.Yj().matches(/^\d{10}$/,"Telephone number must be exactly 10 digits").required("Telephone number is required")}),onSubmit:async(a,n)=>{let{resetForm:r}=n;console.log("Submitting to DB",a,l),r(),e(p(l,a)),await e(c(l))}});return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(t.A.Grid,{container:!0,justifyContent:"center",mt:{xs:5,sm:0},children:(0,b.jsxs)(t.A.Grid,{item:!0,xs:12,sx:{backgroundColor:"white",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",height:"auto"},p:{xs:2},children:[(0,b.jsx)(t.A.Grid,{item:!0,sx:{textAlign:"center"},children:(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:{xs:"25px",sm:"35px"},color:"#333333"},children:"Personal Information"})}),(0,b.jsx)(t.A.Grid,{item:!0,sx:{textAlign:"center"},children:(0,b.jsx)(t.A.Typography,{variant:"caption1",sx:{fontSize:{xs:"12px",sm:"14px"},color:"#333333"},children:"Hey there! Fill in your details for a personalized AJIO shopping experience."})}),(0,b.jsx)(f,{formik:h})]})})})}}}]);
//# sourceMappingURL=821.bc4c4d28.chunk.js.map