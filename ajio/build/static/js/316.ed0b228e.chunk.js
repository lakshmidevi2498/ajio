"use strict";(self.webpackChunkajio=self.webpackChunkajio||[]).push([[316],{8773:(t,a,e)=>{e.r(a),e.d(a,{default:()=>v});var o=e(2483),r=e(814),s=e(1965),n=e(6803),i=e(5606),c=e(9857),d=e(1126);const l=new(e(4648).A);var p=e(3422);const x=(t,a)=>async e=>{e({type:d.ht});try{const s=await(async(t,a)=>new Promise((async(e,r)=>{try{e(await l.delete("".concat("wishlist","/").concat(t,"/").concat(a)))}catch(o){console.error("Error in deleteWishlistApi:",o),r(o)}})))(t,a);e((r=s,{type:d.em,payload:r}))}catch(s){console.log("error",s),e((o=s,{type:d.dA,payload:o})),p.oR.error("getting products data failed")}var o,r};var h=e(2533),y=e(5178),g=e(6723);const u=t=>{let{product:a,isCartProduct:e,handleDeleteFormWishlist:o,handleAddToBag:s}=t;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(r.A.Grid,{container:!0,justifyContent:"center",mt:.5,sx:{},xs:10.5,sm:11,md:9.5,xl:9.5,spacing:1,children:(null===a||void 0===a?void 0:a.length)>0?null===a||void 0===a?void 0:a.map(((t,a)=>(0,g.jsxs)(r.A.Grid,{item:!0,xs:12,sm:4,md:3,sx:{display:{xs:"block",sm:"block"},justifyContent:"center",height:"auto"},gap:1,children:[(0,g.jsxs)(r.A.Box,{sx:{position:"relative",width:"100%",height:"70%",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,g.jsx)(r.A.CardMedia,{component:"img",src:t.image,loading:"lazy",alt:"wishlist image",sx:{width:"100%",height:"100%",objectFit:"cover"}}),(0,g.jsx)(r.A.DeleteOutlineIcon,{sx:{position:"absolute",top:8,right:8,width:"25px",height:"25px",zIndex:10,color:"gray",cursor:"pointer"},onClick:()=>o(t._id)}),e(t._id)?"":(0,g.jsx)(r.A.Grid,{sx:{position:"absolute",bottom:8,left:8,width:"30px",height:"30px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f7d32f",borderRadius:"50%",cursor:"pointer"},children:(0,g.jsx)(r.A.ShoppingBagOutlinedIcon,{sx:{width:"20px",height:"20px",color:"gray"},onClick:()=>s(t._id)})})]}),(0,g.jsxs)(r.A.CardContent,{sx:{textAlign:"center",mt:1,p:0},children:[(0,g.jsx)(r.A.Grid,{item:!0,children:(0,g.jsx)(r.A.Typography,{variant:"caption1",sx:{color:y.A.palette.one.text2,fontWeight:"bold"},children:t.brandname})}),(0,g.jsx)(r.A.Grid,{item:!0,children:(0,g.jsx)(r.A.Typography,{variant:"caption1",sx:{fontSize:"14px",mt:1},children:t.name})}),(0,g.jsxs)(r.A.Typography,{variant:"caption1",sx:{fontWeight:"bold"},children:["\u20b9",t.getitprice]}),"\xa0",t.discountOne&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.A.Typography,{variant:"caption1",sx:{textDecoration:"line-through",color:"gray",fontSize:"13px"},children:["\u20b9",t.discountOne]}),(0,g.jsx)(r.A.Typography,{variant:"caption1",sx:{color:"#866528",fontSize:"13px"},children:t.discountTwo})]})]})]},a))):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.A.Box,{component:"img",src:"./assets/images/Animation - 1730963748748.gif",sx:{width:"300px",height:"300px"}}),(0,g.jsx)(r.A.Grid,{item:!0,sx:{textAlign:"center"},xs:12,children:(0,g.jsx)(r.A.Typography,{variant:"text1",sx:{fontSize:{xs:"20px",sm:"30px"}},children:"Your Wishlist is empty"})})]})})})},m=()=>{const[t,a]=(0,o.useState)([]),[e,d]=(0,o.useState)([]),l=(0,i.F6)(),p=(0,i.gf)(),y=(0,s.wA)(),m=(0,s.d4)((t=>t.loadwishlist.data)),A=(0,s.d4)((t=>t.loadcartproducts.data||[]));(0,o.useEffect)((()=>{(async()=>{l&&y((0,n.Lh)(l))})()}),[y,l]),(0,o.useEffect)((()=>{(async()=>{l&&y((0,h.iA)(p,l))})()}),[y,l,p]),(0,o.useEffect)((()=>{if(m&&m.data){var t;const e=null===(t=m.data)||void 0===t?void 0:t.wishlistData;e&&e.products&&a(e.products)}}),[m]),(0,o.useEffect)((()=>{if(A&&A.data){const t=A.data.cartDetails;t&&t.products&&(d(t.products),console.log("productsData",t.products))}}),[A]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(r.A.Grid,{container:!0,justifyContent:"center",children:[(0,g.jsx)(r.A.Grid,{item:!0,xs:12,sm:11,md:9.5,xl:10,sx:{textAlign:"center",mt:{xs:11,md:12,lg:15,xl:20}},children:(0,g.jsx)(r.A.Typography,{variant:"caption1",sx:{fontWeight:"bold",fontSize:{xs:"18px",sm:"25px"},display:t.length>0?"block":"none"},children:"My Wishlist"})}),(0,g.jsx)(u,{product:t,isCartProduct:t=>(console.log("productId isCartProduct:",t),console.log("product array:",e),!(!l||!p)&&(Array.isArray(e)&&e.some((a=>{var e;return(null===(e=a.product)||void 0===e?void 0:e._id)===t})))),handleDeleteFormWishlist:async t=>{console.log("userId,productId",l,t),await y(x(l,t)),y((0,n.Lh)(l))},handleAddToBag:async t=>{await y((0,c.CP)(l,t,"S")),await y((0,h.iA)(p,l)),await y((0,n.Lh)(l))}})]})})};var A=e(9582);const v=()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(A.A,{value1:"none",value2:"block",value3:"none",value4:"flex",value8:{xs:"130px",sm:"75px",md:"90px"}}),(0,g.jsx)(m,{})]})},2533:(t,a,e)=>{e.d(a,{iA:()=>n});var o=e(1126);const r=new(e(4648).A);var s=e(3422);const n=(t,a)=>async e=>{e({type:o.Nx});try{const s=await(async(t,a)=>new Promise((async(e,o)=>{try{e(await r.get("".concat("cart","/").concat(a),{headers:{authorization:"Bearer ".concat(t)}}))}catch(n){console.error("Error in loadCartApi:",n),o(n)}})))(t,a);e((i=s,{type:o.sR,payload:i}))}catch(c){console.log("error",c),e((n=c,{type:o.vl,payload:n})),s.oR.error("getting products data failed")}var n,i}},6803:(t,a,e)=>{e.d(a,{Lh:()=>n});var o=e(1126);const r=new(e(4648).A);var s=e(3422);const n=t=>async a=>{a({type:o._y});try{const s=await(async t=>new Promise((async(a,o)=>{try{a(await r.get("".concat("wishlist","/").concat(t)))}catch(e){console.error("Error in loadCartApi:",e),o(e)}})))(t);a((n=s,{type:o.fg,payload:n}))}catch(i){console.log("error",i),a((e=i,{type:o.Uo,payload:e})),s.oR.error("getting wishlist data failed")}var e,n}},9857:(t,a,e)=>{e.d(a,{CP:()=>n});var o=e(1126);const r=new(e(4648).A);var s=e(3422);const n=(t,a,e)=>async n=>{n({type:o.VO});try{const s=await(async(t,a,e)=>new Promise((async(o,s)=>{try{o(await r.post("".concat("cart","/").concat(t,"/").concat(a),{size:e}))}catch(i){console.error("Error in postCartApi:",i),s(i)}})))(t,a,e);n((c=s,{type:o.uZ,payload:c}))}catch(d){console.log("error",d),n((i=d,{type:o.L8,payload:i})),s.oR.error("getting products data failed")}var i,c}}}]);
//# sourceMappingURL=316.ed0b228e.chunk.js.map